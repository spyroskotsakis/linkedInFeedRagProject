# langchain_experimental.llms.jsonformer_decoder â€” ðŸ¦œðŸ”— LangChain  documentation

**URL:** https://python.langchain.com/api_reference/_modules/langchain_experimental/llms/jsonformer_decoder.html
**Word Count:** 51
**Links Count:** 14
**Scraped:** 2025-07-21 09:19:27
**Status:** completed

---

# Source code for langchain\_experimental.llms.jsonformer\_decoder               """Experimental implementation of jsonformer wrapped LLM."""          from __future__ import annotations          import json     from typing import TYPE_CHECKING, Any, List, Optional, cast          from langchain_community.llms.huggingface_pipeline import HuggingFacePipeline     from langchain_core.callbacks.manager import CallbackManagerForLLMRun     from pydantic import Field, model_validator          if TYPE_CHECKING:         import jsonformer                              [[docs]](https://python.langchain.com/api_reference/experimental/llms/langchain_experimental.llms.jsonformer_decoder.import_jsonformer.html#langchain_experimental.llms.jsonformer_decoder.import_jsonformer)     def import_jsonformer() -> jsonformer:         """Lazily import of the jsonformer package."""         try:             import jsonformer         except ImportError:             raise ImportError(                 "Could not import jsonformer python package. "                 "Please install it with `pip install jsonformer`."             )         return jsonformer                                             [[docs]](https://python.langchain.com/api_reference/experimental/llms/langchain_experimental.llms.jsonformer_decoder.JsonFormer.html#langchain_experimental.llms.jsonformer_decoder.JsonFormer)     class JsonFormer(HuggingFacePipeline):         """Jsonformer wrapped LLM using HuggingFace Pipeline API.              This pipeline is experimental and not yet stable.         """              json_schema: dict = Field(..., description="The JSON Schema to complete.")         max_new_tokens: int = Field(             default=200, description="Maximum number of new tokens to generate."         )         debug: bool = Field(default=False, description="Debug mode.")              @model_validator(mode="before")         @classmethod         def check_jsonformer_installation(cls, values: dict) -> Any:             import_jsonformer()             return values              def _call(             self,             prompt: str,             stop: Optional[List[str]] = None,             run_manager: Optional[CallbackManagerForLLMRun] = None,             **kwargs: Any,         ) -> str:             jsonformer = import_jsonformer()             from transformers import Text2TextGenerationPipeline                  pipeline = cast(Text2TextGenerationPipeline, self.pipeline)                  model = jsonformer.Jsonformer(                 model=pipeline.model,                 tokenizer=pipeline.tokenizer,                 json_schema=self.json_schema,                 prompt=prompt,                 max_number_tokens=self.max_new_tokens,                 debug=self.debug,             )             text = model()             return json.dumps(text)