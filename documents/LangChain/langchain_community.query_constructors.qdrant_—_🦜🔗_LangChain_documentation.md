# langchain_community.query_constructors.qdrant â€” ðŸ¦œðŸ”— LangChain  documentation

**URL:** https://python.langchain.com/api_reference/_modules/langchain_community/query_constructors/qdrant.html
**Word Count:** 45
**Links Count:** 17
**Scraped:** 2025-07-21 09:16:48
**Status:** completed

---

# Source code for langchain\_community.query\_constructors.qdrant               from __future__ import annotations          from typing import TYPE_CHECKING, Tuple          from langchain_core.structured_query import (         Comparator,         Comparison,         Operation,         Operator,         StructuredQuery,         Visitor,     )          if TYPE_CHECKING:         from qdrant_client.http import models as rest                              [[docs]](https://python.langchain.com/api_reference/community/query_constructors/langchain_community.query_constructors.qdrant.QdrantTranslator.html#langchain_community.query_constructors.qdrant.QdrantTranslator)     class QdrantTranslator(Visitor):         """Translate `Qdrant` internal query language elements to valid filters."""              allowed_operators = (             Operator.AND,             Operator.OR,             Operator.NOT,         )         """Subset of allowed logical operators."""              allowed_comparators = (             Comparator.EQ,             Comparator.LT,             Comparator.LTE,             Comparator.GT,             Comparator.GTE,             Comparator.LIKE,         )         """Subset of allowed logical comparators."""                         [[docs]](https://python.langchain.com/api_reference/community/query_constructors/langchain_community.query_constructors.qdrant.QdrantTranslator.html#langchain_community.query_constructors.qdrant.QdrantTranslator.__init__)         def __init__(self, metadata_key: str):             self.metadata_key = metadata_key                                        [[docs]](https://python.langchain.com/api_reference/community/query_constructors/langchain_community.query_constructors.qdrant.QdrantTranslator.html#langchain_community.query_constructors.qdrant.QdrantTranslator.visit_operation)         def visit_operation(self, operation: Operation) -> rest.Filter:             try:                 from qdrant_client.http import models as rest             except ImportError as e:                 raise ImportError(                     "Cannot import qdrant_client. Please install with `pip install "                     "qdrant-client`."                 ) from e                  args = [arg.accept(self) for arg in operation.arguments]             operator = {                 Operator.AND: "must",                 Operator.OR: "should",                 Operator.NOT: "must_not",             }[operation.operator]             return rest.Filter(**{operator: args})                                        [[docs]](https://python.langchain.com/api_reference/community/query_constructors/langchain_community.query_constructors.qdrant.QdrantTranslator.html#langchain_community.query_constructors.qdrant.QdrantTranslator.visit_comparison)         def visit_comparison(self, comparison: Comparison) -> rest.FieldCondition:             try:                 from qdrant_client.http import models as rest             except ImportError as e:                 raise ImportError(                     "Cannot import qdrant_client. Please install with `pip install "                     "qdrant-client`."                 ) from e                  self._validate_func(comparison.comparator)             attribute = self.metadata_key + "." + comparison.attribute             if comparison.comparator == Comparator.EQ:                 return rest.FieldCondition(                     key=attribute, match=rest.MatchValue(value=comparison.value)                 )             if comparison.comparator == Comparator.LIKE:                 return rest.FieldCondition(                     key=attribute, match=rest.MatchText(text=comparison.value)                 )             kwargs = {comparison.comparator.value: comparison.value}             return rest.FieldCondition(key=attribute, range=rest.Range(**kwargs))                                        [[docs]](https://python.langchain.com/api_reference/community/query_constructors/langchain_community.query_constructors.qdrant.QdrantTranslator.html#langchain_community.query_constructors.qdrant.QdrantTranslator.visit_structured_query)         def visit_structured_query(             self, structured_query: StructuredQuery         ) -> Tuple[str, dict]:             try:                 from qdrant_client.http import models as rest             except ImportError as e:                 raise ImportError(                     "Cannot import qdrant_client. Please install with `pip install "                     "qdrant-client`."                 ) from e                  if structured_query.filter is None:                 kwargs = {}             else:                 filter = structured_query.filter.accept(self)                 if isinstance(filter, rest.FieldCondition):                     filter = rest.Filter(must=[filter])                 kwargs = {"filter": filter}             return structured_query.query, kwargs