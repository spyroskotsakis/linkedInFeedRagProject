# langchain_community.utilities.openweathermap â€” ðŸ¦œðŸ”— LangChain  documentation

**URL:** https://python.langchain.com/api_reference/_modules/langchain_community/utilities/openweathermap.html
**Word Count:** 82
**Links Count:** 14
**Scraped:** 2025-07-21 09:16:02
**Status:** completed

---

# Source code for langchain\_community.utilities.openweathermap               """Util that calls OpenWeatherMap using PyOWM."""          from typing import Any, Dict, Optional          from langchain_core.utils import get_from_dict_or_env     from pydantic import BaseModel, ConfigDict, model_validator                              [[docs]](https://python.langchain.com/api_reference/community/utilities/langchain_community.utilities.openweathermap.OpenWeatherMapAPIWrapper.html#langchain_community.utilities.openweathermap.OpenWeatherMapAPIWrapper)     class OpenWeatherMapAPIWrapper(BaseModel):         """Wrapper for OpenWeatherMap API using PyOWM.              Docs for using:              1. Go to OpenWeatherMap and sign up for an API key         2. Save your API KEY into OPENWEATHERMAP_API_KEY env variable         3. pip install pyowm         """              owm: Any = None         openweathermap_api_key: Optional[str] = None              model_config = ConfigDict(             extra="forbid",         )              @model_validator(mode="before")         @classmethod         def validate_environment(cls, values: Dict) -> Any:             """Validate that api key exists in environment."""             openweathermap_api_key = get_from_dict_or_env(                 values, "openweathermap_api_key", "OPENWEATHERMAP_API_KEY"             )                  try:                 import pyowm                  except ImportError:                 raise ImportError(                     "pyowm is not installed. Please install it with `pip install pyowm`"                 )                  owm = pyowm.OWM(openweathermap_api_key)             values["owm"] = owm                  return values              def _format_weather_info(self, location: str, w: Any) -> str:             detailed_status = w.detailed_status             wind = w.wind()             humidity = w.humidity             temperature = w.temperature("celsius")             rain = w.rain             heat_index = w.heat_index             clouds = w.clouds                  return (                 f"In {location}, the current weather is as follows:\n"                 f"Detailed status: {detailed_status}\n"                 f"Wind speed: {wind['speed']} m/s, direction: {wind['deg']}Â°\n"                 f"Humidity: {humidity}%\n"                 f"Temperature: \n"                 f"  - Current: {temperature['temp']}Â°C\n"                 f"  - High: {temperature['temp_max']}Â°C\n"                 f"  - Low: {temperature['temp_min']}Â°C\n"                 f"  - Feels like: {temperature['feels_like']}Â°C\n"                 f"Rain: {rain}\n"                 f"Heat index: {heat_index}\n"                 f"Cloud cover: {clouds}%"             )                         [[docs]](https://python.langchain.com/api_reference/community/utilities/langchain_community.utilities.openweathermap.OpenWeatherMapAPIWrapper.html#langchain_community.utilities.openweathermap.OpenWeatherMapAPIWrapper.run)         def run(self, location: str) -> str:             """Get the current weather information for a specified location."""             mgr = self.owm.weather_manager()             observation = mgr.weather_at_place(location)             w = observation.weather                  return self._format_weather_info(location, w)