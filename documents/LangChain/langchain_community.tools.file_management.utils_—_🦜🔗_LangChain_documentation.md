# langchain_community.tools.file_management.utils â€” ðŸ¦œðŸ”— LangChain  documentation

**URL:** https://python.langchain.com/api_reference/_modules/langchain_community/tools/file_management/utils.html
**Word Count:** 99
**Links Count:** 17
**Scraped:** 2025-07-21 09:12:16
**Status:** completed

---

# Source code for langchain\_community.tools.file\_management.utils               import sys     from pathlib import Path     from typing import Optional          from pydantic import BaseModel                              [[docs]](https://python.langchain.com/api_reference/community/tools/langchain_community.tools.file_management.utils.is_relative_to.html#langchain_community.tools.file_management.copy.is_relative_to)     def is_relative_to(path: Path, root: Path) -> bool:         """Check if path is relative to root."""         if sys.version_info >= (3, 9):             # No need for a try/except block in Python 3.8+.             return path.is_relative_to(root)         try:             path.relative_to(root)             return True         except ValueError:             return False                              INVALID_PATH_TEMPLATE = (         "Error: Access denied to {arg_name}: {value}."         " Permission granted exclusively to the current working directory"     )                              [[docs]](https://python.langchain.com/api_reference/community/tools/langchain_community.tools.file_management.utils.FileValidationError.html#langchain_community.tools.file_management.copy.FileValidationError)     class FileValidationError(ValueError):         """Error for paths outside the root directory."""                                             [[docs]](https://python.langchain.com/api_reference/community/tools/langchain_community.tools.file_management.utils.BaseFileToolMixin.html#langchain_community.tools.file_management.copy.BaseFileToolMixin)     class BaseFileToolMixin(BaseModel):         """Mixin for file system tools."""              root_dir: Optional[str] = None         """The final path will be chosen relative to root_dir if specified."""                         [[docs]](https://python.langchain.com/api_reference/community/tools/langchain_community.tools.file_management.utils.BaseFileToolMixin.html#langchain_community.tools.file_management.copy.BaseFileToolMixin.get_relative_path)         def get_relative_path(self, file_path: str) -> Path:             """Get the relative path, returning an error if unsupported."""             if self.root_dir is None:                 return Path(file_path)             return get_validated_relative_path(Path(self.root_dir), file_path)                                                            [[docs]](https://python.langchain.com/api_reference/community/tools/langchain_community.tools.file_management.utils.get_validated_relative_path.html#langchain_community.tools.file_management.copy.get_validated_relative_path)     def get_validated_relative_path(root: Path, user_path: str) -> Path:         """Resolve a relative path, raising an error if not within the root directory."""         # Note, this still permits symlinks from outside that point within the root.         # Further validation would be needed if those are to be disallowed.         root = root.resolve()         full_path = (root / user_path).resolve()              if not is_relative_to(full_path, root):             raise FileValidationError(                 f"Path {user_path} is outside of the allowed directory {root}"             )         return full_path