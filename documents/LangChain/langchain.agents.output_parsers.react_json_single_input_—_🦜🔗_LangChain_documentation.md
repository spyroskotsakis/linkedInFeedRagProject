# langchain.agents.output_parsers.react_json_single_input â€” ğŸ¦œğŸ”— LangChain  documentation

**URL:** https://python.langchain.com/api_reference/_modules/langchain/agents/output_parsers/react_json_single_input.html
**Word Count:** 115
**Links Count:** 15
**Scraped:** 2025-07-21 07:56:55
**Status:** completed

---

# Source code for langchain.agents.output\_parsers.react\_json\_single\_input               import json     import re     from re import Pattern     from typing import Union          from langchain_core.agents import AgentAction, AgentFinish     from langchain_core.exceptions import OutputParserException          from langchain.agents.agent import AgentOutputParser     from langchain.agents.chat.prompt import FORMAT_INSTRUCTIONS          FINAL_ANSWER_ACTION = "Final Answer:"                              [[docs]](https://python.langchain.com/api_reference/langchain/agents/langchain.agents.output_parsers.react_json_single_input.ReActJsonSingleInputOutputParser.html#langchain.agents.output_parsers.react_json_single_input.ReActJsonSingleInputOutputParser)     class ReActJsonSingleInputOutputParser(AgentOutputParser):         """Parses ReAct-style LLM calls that have a single tool input in json format.              Expects output to be in one of two formats.              If the output signals that an action should be taken,         should be in the below format. This will result in an AgentAction         being returned.              ```         Thought: agent thought here         Action:         ```         {             "action": "search",             "action_input": "what is the temperature in SF"         }         ```         ```              If the output signals that a final answer should be given,         should be in the below format. This will result in an AgentFinish         being returned.              ```         Thought: agent thought here         Final Answer: The temperature is 100 degrees         ```              """              pattern: Pattern = re.compile(r"^.*?`{3}(?:json)?\n?(.*?)`{3}.*?$", re.DOTALL)         """Regex pattern to parse the output."""                         [[docs]](https://python.langchain.com/api_reference/langchain/agents/langchain.agents.output_parsers.react_json_single_input.ReActJsonSingleInputOutputParser.html#langchain.agents.output_parsers.react_json_single_input.ReActJsonSingleInputOutputParser.get_format_instructions)         def get_format_instructions(self) -> str:             return FORMAT_INSTRUCTIONS                                        [[docs]](https://python.langchain.com/api_reference/langchain/agents/langchain.agents.output_parsers.react_json_single_input.ReActJsonSingleInputOutputParser.html#langchain.agents.output_parsers.react_json_single_input.ReActJsonSingleInputOutputParser.parse)         def parse(self, text: str) -> Union[AgentAction, AgentFinish]:             includes_answer = FINAL_ANSWER_ACTION in text             try:                 found = self.pattern.search(text)                 if not found:                     # Fast fail to parse Final Answer.                     msg = "action not found"                     raise ValueError(msg)                 action = found.group(1)                 response = json.loads(action.strip())                 includes_action = "action" in response                 if includes_answer and includes_action:                     msg = (                         "Parsing LLM output produced a final answer "                         f"and a parse-able action: {text}"                     )                     raise OutputParserException(msg)                 return AgentAction(                     response["action"],                     response.get("action_input", {}),                     text,                 )                  except Exception as e:                 if not includes_answer:                     msg = f"Could not parse LLM output: {text}"                     raise OutputParserException(msg) from e                 output = text.split(FINAL_ANSWER_ACTION)[-1].strip()                 return AgentFinish({"output": output}, text)                             @property         def _type(self) -> str:             return "react-json-single-input"