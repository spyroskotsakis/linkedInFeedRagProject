# utils â€” ðŸ¦œðŸ”— LangChain  documentation

**URL:** https://python.langchain.com/api_reference/core/utils.html
**Word Count:** 448
**Links Count:** 232
**Scraped:** 2025-07-21 07:53:06
**Status:** completed

---

# `utils`\#

**Utility functions** for LangChain.

These functions do not depend on any other LangChain module.

**Classes**

[`utils.aiter.NoLock`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.aiter.NoLock.html#langchain_core.utils.aiter.NoLock "langchain_core.utils.aiter.NoLock")\(\) | Dummy lock that provides the proper interface but no protection.   ---|---   [`utils.aiter.Tee`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.aiter.Tee.html#langchain_core.utils.aiter.Tee "langchain_core.utils.aiter.Tee")\(iterable\[, n, lock\]\) | Create `n` separate asynchronous iterators over `iterable`.   [`utils.aiter.aclosing`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.aiter.aclosing.html#langchain_core.utils.aiter.aclosing "langchain_core.utils.aiter.aclosing")\(thing\) | Async context manager to wrap an AsyncGenerator that has a `aclose()` method.   [`utils.aiter.atee`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.aiter.atee.html#langchain_core.utils.aiter.atee "langchain_core.utils.aiter.atee") | alias of [`Tee`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.aiter.Tee.html#langchain_core.utils.aiter.Tee "langchain_core.utils.aiter.Tee")   [`utils.formatting.StrictFormatter`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.formatting.StrictFormatter.html#langchain_core.utils.formatting.StrictFormatter "langchain_core.utils.formatting.StrictFormatter")\(\) | Formatter that checks for extra keys.   [`utils.function_calling.FunctionDescription`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.function_calling.FunctionDescription.html#langchain_core.utils.function_calling.FunctionDescription "langchain_core.utils.function_calling.FunctionDescription") | Representation of a callable function to send to an LLM.   [`utils.function_calling.ToolDescription`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.function_calling.ToolDescription.html#langchain_core.utils.function_calling.ToolDescription "langchain_core.utils.function_calling.ToolDescription") | Representation of a callable function to the OpenAI API.   [`utils.iter.NoLock`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.iter.NoLock.html#langchain_core.utils.iter.NoLock "langchain_core.utils.iter.NoLock")\(\) | Dummy lock that provides the proper interface but no protection.   [`utils.iter.Tee`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.iter.Tee.html#langchain_core.utils.iter.Tee "langchain_core.utils.iter.Tee")\(iterable\[, n, lock\]\) | Create `n` separate asynchronous iterators over `iterable`.   [`utils.iter.safetee`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.iter.safetee.html#langchain_core.utils.iter.safetee "langchain_core.utils.iter.safetee") | alias of [`Tee`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.iter.Tee.html#langchain_core.utils.iter.Tee "langchain_core.utils.iter.Tee")   [`utils.mustache.ChevronError`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.mustache.ChevronError.html#langchain_core.utils.mustache.ChevronError "langchain_core.utils.mustache.ChevronError") | Custom exception for Chevron errors.      **Functions**

[`utils.aiter.abatch_iterate`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.aiter.abatch_iterate.html#langchain_core.utils.aiter.abatch_iterate "langchain_core.utils.aiter.abatch_iterate")\(size, iterable\) | Utility batching function for async iterables.   ---|---   [`utils.aiter.py_anext`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.aiter.py_anext.html#langchain_core.utils.aiter.py_anext "langchain_core.utils.aiter.py_anext")\(iterator\[, default\]\) | Pure-Python implementation of anext\(\) for testing purposes.   [`utils.aiter.tee_peer`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.aiter.tee_peer.html#langchain_core.utils.aiter.tee_peer "langchain_core.utils.aiter.tee_peer")\(iterator, buffer, ...\) | An individual iterator of a `tee()`.   [`utils.env.env_var_is_set`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.env.env_var_is_set.html#langchain_core.utils.env.env_var_is_set "langchain_core.utils.env.env_var_is_set")\(env\_var\) | Check if an environment variable is set.   [`utils.env.get_from_dict_or_env`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.env.get_from_dict_or_env.html#langchain_core.utils.env.get_from_dict_or_env "langchain_core.utils.env.get_from_dict_or_env")\(data, key, ...\) | Get a value from a dictionary or an environment variable.   [`utils.env.get_from_env`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.env.get_from_env.html#langchain_core.utils.env.get_from_env "langchain_core.utils.env.get_from_env")\(key, env\_key\[, default\]\) | Get a value from a dictionary or an environment variable.   [`utils.function_calling.convert_to_json_schema`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.function_calling.convert_to_json_schema.html#langchain_core.utils.function_calling.convert_to_json_schema "langchain_core.utils.function_calling.convert_to_json_schema")\(...\) | Convert a schema representation to a JSON schema.   [`utils.function_calling.convert_to_openai_function`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.function_calling.convert_to_openai_function.html#langchain_core.utils.function_calling.convert_to_openai_function "langchain_core.utils.function_calling.convert_to_openai_function")\(...\) | Convert a raw function/class to an OpenAI function.   [`utils.function_calling.convert_to_openai_tool`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.function_calling.convert_to_openai_tool.html#langchain_core.utils.function_calling.convert_to_openai_tool "langchain_core.utils.function_calling.convert_to_openai_tool")\(tool, \*\) | Convert a tool-like object to an OpenAI tool schema.   [`utils.function_calling.tool_example_to_messages`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.function_calling.tool_example_to_messages.html#langchain_core.utils.function_calling.tool_example_to_messages "langchain_core.utils.function_calling.tool_example_to_messages")\(...\) |    [`utils.html.extract_sub_links`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.html.extract_sub_links.html#langchain_core.utils.html.extract_sub_links "langchain_core.utils.html.extract_sub_links")\(raw\_html, url, \*\) | Extract all links from a raw HTML string and convert into absolute paths.   [`utils.html.find_all_links`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.html.find_all_links.html#langchain_core.utils.html.find_all_links "langchain_core.utils.html.find_all_links")\(raw\_html, \*\[, pattern\]\) | Extract all links from a raw HTML string.   [`utils.input.get_bolded_text`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.input.get_bolded_text.html#langchain_core.utils.input.get_bolded_text "langchain_core.utils.input.get_bolded_text")\(text\) | Get bolded text.   [`utils.input.get_color_mapping`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.input.get_color_mapping.html#langchain_core.utils.input.get_color_mapping "langchain_core.utils.input.get_color_mapping")\(items\[, ...\]\) | Get mapping for items to a support color.   [`utils.input.get_colored_text`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.input.get_colored_text.html#langchain_core.utils.input.get_colored_text "langchain_core.utils.input.get_colored_text")\(text, color\) | Get colored text.   [`utils.input.print_text`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.input.print_text.html#langchain_core.utils.input.print_text "langchain_core.utils.input.print_text")\(text\[, color, end, file\]\) | Print text with highlighting and no end characters.   [`utils.interactive_env.is_interactive_env`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.interactive_env.is_interactive_env.html#langchain_core.utils.interactive_env.is_interactive_env "langchain_core.utils.interactive_env.is_interactive_env")\(\) | Determine if running within IPython or Jupyter.   [`utils.iter.batch_iterate`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.iter.batch_iterate.html#langchain_core.utils.iter.batch_iterate "langchain_core.utils.iter.batch_iterate")\(size, iterable\) | Utility batching function.   [`utils.iter.tee_peer`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.iter.tee_peer.html#langchain_core.utils.iter.tee_peer "langchain_core.utils.iter.tee_peer")\(iterator, buffer, peers, ...\) | An individual iterator of a `tee()`.   [`utils.json.parse_and_check_json_markdown`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.json.parse_and_check_json_markdown.html#langchain_core.utils.json.parse_and_check_json_markdown "langchain_core.utils.json.parse_and_check_json_markdown")\(...\) | Parse and check a JSON string from a Markdown string.   [`utils.json.parse_json_markdown`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.json.parse_json_markdown.html#langchain_core.utils.json.parse_json_markdown "langchain_core.utils.json.parse_json_markdown")\(json\_string, \*\) | Parse a JSON string from a Markdown string.   [`utils.json.parse_partial_json`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.json.parse_partial_json.html#langchain_core.utils.json.parse_partial_json "langchain_core.utils.json.parse_partial_json")\(s, \*\[, strict\]\) | Parse a JSON string that may be missing closing braces.   [`utils.json_schema.dereference_refs`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.json_schema.dereference_refs.html#langchain_core.utils.json_schema.dereference_refs "langchain_core.utils.json_schema.dereference_refs")\(schema\_obj, \*\) | Try to substitute $refs in JSON Schema.   [`utils.mustache.grab_literal`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.mustache.grab_literal.html#langchain_core.utils.mustache.grab_literal "langchain_core.utils.mustache.grab_literal")\(template, l\_del\) | Parse a literal from the template.   [`utils.mustache.l_sa_check`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.mustache.l_sa_check.html#langchain_core.utils.mustache.l_sa_check "langchain_core.utils.mustache.l_sa_check")\(template, literal, ...\) | Do a preliminary check to see if a tag could be a standalone.   [`utils.mustache.parse_tag`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.mustache.parse_tag.html#langchain_core.utils.mustache.parse_tag "langchain_core.utils.mustache.parse_tag")\(template, l\_del, r\_del\) | Parse a tag from a template.   [`utils.mustache.r_sa_check`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.mustache.r_sa_check.html#langchain_core.utils.mustache.r_sa_check "langchain_core.utils.mustache.r_sa_check")\(template, ...\) | Do a final check to see if a tag could be a standalone.   [`utils.mustache.render`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.mustache.render.html#langchain_core.utils.mustache.render "langchain_core.utils.mustache.render")\(\[template, data, ...\]\) | Render a mustache template.   [`utils.mustache.tokenize`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.mustache.tokenize.html#langchain_core.utils.mustache.tokenize "langchain_core.utils.mustache.tokenize")\(template\[, ...\]\) | Tokenize a mustache template.   [`utils.pydantic.create_model`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.pydantic.create_model.html#langchain_core.utils.pydantic.create_model "langchain_core.utils.pydantic.create_model")\(model\_name\[, ...\]\) | Create a pydantic model with the given field definitions.   [`utils.pydantic.create_model_v2`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.pydantic.create_model_v2.html#langchain_core.utils.pydantic.create_model_v2 "langchain_core.utils.pydantic.create_model_v2")\(model\_name, \*\) | Create a pydantic model with the given field definitions.   [`utils.pydantic.get_fields`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.pydantic.get_fields.html#langchain_core.utils.pydantic.get_fields "langchain_core.utils.pydantic.get_fields")\(\) | Get the field names of a Pydantic model.   [`utils.pydantic.get_pydantic_major_version`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.pydantic.get_pydantic_major_version.html#langchain_core.utils.pydantic.get_pydantic_major_version "langchain_core.utils.pydantic.get_pydantic_major_version")\(\) | DEPRECATED - Get the major version of Pydantic.   [`utils.pydantic.is_basemodel_instance`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.pydantic.is_basemodel_instance.html#langchain_core.utils.pydantic.is_basemodel_instance "langchain_core.utils.pydantic.is_basemodel_instance")\(obj\) | Check if the given class is an instance of Pydantic BaseModel.   [`utils.pydantic.is_basemodel_subclass`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.pydantic.is_basemodel_subclass.html#langchain_core.utils.pydantic.is_basemodel_subclass "langchain_core.utils.pydantic.is_basemodel_subclass")\(cls\) | Check if the given class is a subclass of Pydantic BaseModel.   [`utils.pydantic.is_pydantic_v1_subclass`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.pydantic.is_pydantic_v1_subclass.html#langchain_core.utils.pydantic.is_pydantic_v1_subclass "langchain_core.utils.pydantic.is_pydantic_v1_subclass")\(cls\) | Check if the installed Pydantic version is 1.x-like.   [`utils.pydantic.is_pydantic_v2_subclass`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.pydantic.is_pydantic_v2_subclass.html#langchain_core.utils.pydantic.is_pydantic_v2_subclass "langchain_core.utils.pydantic.is_pydantic_v2_subclass")\(cls\) | Check if the installed Pydantic version is 1.x-like.   [`utils.pydantic.pre_init`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.pydantic.pre_init.html#langchain_core.utils.pydantic.pre_init "langchain_core.utils.pydantic.pre_init")\(func\) | Decorator to run a function before model initialization.   [`utils.strings.comma_list`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.strings.comma_list.html#langchain_core.utils.strings.comma_list "langchain_core.utils.strings.comma_list")\(items\) | Convert a list to a comma-separated string.   [`utils.strings.stringify_dict`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.strings.stringify_dict.html#langchain_core.utils.strings.stringify_dict "langchain_core.utils.strings.stringify_dict")\(data\) | Stringify a dictionary.   [`utils.strings.stringify_value`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.strings.stringify_value.html#langchain_core.utils.strings.stringify_value "langchain_core.utils.strings.stringify_value")\(val\) | Stringify a value.   [`utils.utils.build_extra_kwargs`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.utils.build_extra_kwargs.html#langchain_core.utils.utils.build_extra_kwargs "langchain_core.utils.utils.build_extra_kwargs")\(extra\_kwargs, ...\) | Build extra kwargs from values and extra\_kwargs.   [`utils.utils.check_package_version`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.utils.check_package_version.html#langchain_core.utils.utils.check_package_version "langchain_core.utils.utils.check_package_version")\(package\[, ...\]\) | Check the version of a package.   [`utils.utils.convert_to_secret_str`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.utils.convert_to_secret_str.html#langchain_core.utils.utils.convert_to_secret_str "langchain_core.utils.utils.convert_to_secret_str")\(value\) | Convert a string to a SecretStr if needed.   [`utils.utils.from_env`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.utils.from_env.html#langchain_core.utils.utils.from_env "langchain_core.utils.utils.from_env")\(\) | Create a factory method that gets a value from an environment variable.   [`utils.utils.get_pydantic_field_names`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.utils.get_pydantic_field_names.html#langchain_core.utils.utils.get_pydantic_field_names "langchain_core.utils.utils.get_pydantic_field_names")\(...\) | Get field names, including aliases, for a pydantic class.   [`utils.utils.guard_import`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.utils.guard_import.html#langchain_core.utils.utils.guard_import "langchain_core.utils.utils.guard_import")\(module\_name, \*\[, ...\]\) | Dynamically import a module.   [`utils.utils.mock_now`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.utils.mock_now.html#langchain_core.utils.utils.mock_now "langchain_core.utils.utils.mock_now")\(dt\_value\) | Context manager for mocking out datetime.now\(\) in unit tests.   [`utils.utils.raise_for_status_with_text`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.utils.raise_for_status_with_text.html#langchain_core.utils.utils.raise_for_status_with_text "langchain_core.utils.utils.raise_for_status_with_text")\(response\) | Raise an error with the response text.   [`utils.utils.secret_from_env`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.utils.secret_from_env.html#langchain_core.utils.utils.secret_from_env "langchain_core.utils.utils.secret_from_env")\(\) | Secret from env.   [`utils.utils.xor_args`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.utils.xor_args.html#langchain_core.utils.utils.xor_args "langchain_core.utils.utils.xor_args")\(\*arg\_groups\) | Validate specified keyword args are mutually exclusive.".      **Deprecated functions**

[`utils.function_calling.convert_pydantic_to_openai_function`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.function_calling.convert_pydantic_to_openai_function.html#langchain_core.utils.function_calling.convert_pydantic_to_openai_function "langchain_core.utils.function_calling.convert_pydantic_to_openai_function")\(...\) |    ---|---   [`utils.function_calling.convert_pydantic_to_openai_tool`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.function_calling.convert_pydantic_to_openai_tool.html#langchain_core.utils.function_calling.convert_pydantic_to_openai_tool "langchain_core.utils.function_calling.convert_pydantic_to_openai_tool")\(...\) |    [`utils.function_calling.convert_python_function_to_openai_function`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.function_calling.convert_python_function_to_openai_function.html#langchain_core.utils.function_calling.convert_python_function_to_openai_function "langchain_core.utils.function_calling.convert_python_function_to_openai_function")\(...\) |    [`utils.function_calling.format_tool_to_openai_function`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.function_calling.format_tool_to_openai_function.html#langchain_core.utils.function_calling.format_tool_to_openai_function "langchain_core.utils.function_calling.format_tool_to_openai_function")\(tool\) |    [`utils.function_calling.format_tool_to_openai_tool`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.function_calling.format_tool_to_openai_tool.html#langchain_core.utils.function_calling.format_tool_to_openai_tool "langchain_core.utils.function_calling.format_tool_to_openai_tool")\(tool\) |    [`utils.loading.try_load_from_hub`](https://python.langchain.com/api_reference/core/utils/langchain_core.utils.loading.try_load_from_hub.html#langchain_core.utils.loading.try_load_from_hub "langchain_core.utils.loading.try_load_from_hub")\(\*args, \*\*kwargs\) |