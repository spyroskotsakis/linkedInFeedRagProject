# langchain-aws: 0.2.28 â€” ðŸ¦œðŸ”— LangChain  documentation

**URL:** https://python.langchain.com/api_reference/aws/index.html
**Word Count:** 596
**Links Count:** 208
**Scraped:** 2025-07-21 07:51:39
**Status:** completed

---

# langchain-aws: 0.2.28\#

## [agents](https://python.langchain.com/api_reference/aws/agents.html#langchain-aws-agents)\#

**Classes**

[`agents.base.BedrockAgentsRunnable`](https://python.langchain.com/api_reference/aws/agents/langchain_aws.agents.base.BedrockAgentsRunnable.html#langchain_aws.agents.base.BedrockAgentsRunnable "langchain_aws.agents.base.BedrockAgentsRunnable") | Invoke a Bedrock Agent   ---|---   [`agents.base.BedrockInlineAgentsRunnable`](https://python.langchain.com/api_reference/aws/agents/langchain_aws.agents.base.BedrockInlineAgentsRunnable.html#langchain_aws.agents.base.BedrockInlineAgentsRunnable "langchain_aws.agents.base.BedrockInlineAgentsRunnable") | Invoke Bedrock Inline Agent as a Runnable.   [`agents.types.BedrockAgentAction`](https://python.langchain.com/api_reference/aws/agents/langchain_aws.agents.types.BedrockAgentAction.html#langchain_aws.agents.types.BedrockAgentAction "langchain_aws.agents.types.BedrockAgentAction") | AgentAction with session id information.   [`agents.types.BedrockAgentFinish`](https://python.langchain.com/api_reference/aws/agents/langchain_aws.agents.types.BedrockAgentFinish.html#langchain_aws.agents.types.BedrockAgentFinish "langchain_aws.agents.types.BedrockAgentFinish") | AgentFinish with session id information.   [`agents.types.GuardrailConfiguration`](https://python.langchain.com/api_reference/aws/agents/langchain_aws.agents.types.GuardrailConfiguration.html#langchain_aws.agents.types.GuardrailConfiguration "langchain_aws.agents.types.GuardrailConfiguration") |    [`agents.types.InlineAgentConfiguration`](https://python.langchain.com/api_reference/aws/agents/langchain_aws.agents.types.InlineAgentConfiguration.html#langchain_aws.agents.types.InlineAgentConfiguration "langchain_aws.agents.types.InlineAgentConfiguration") | Configurations for an Inline Agent.   [`agents.types.KnowledgebaseConfiguration`](https://python.langchain.com/api_reference/aws/agents/langchain_aws.agents.types.KnowledgebaseConfiguration.html#langchain_aws.agents.types.KnowledgebaseConfiguration "langchain_aws.agents.types.KnowledgebaseConfiguration") |       **Functions**

[`agents.utils.get_boto_session`](https://python.langchain.com/api_reference/aws/agents/langchain_aws.agents.utils.get_boto_session.html#langchain_aws.agents.utils.get_boto_session "langchain_aws.agents.utils.get_boto_session")\(\[...\]\) | Construct the boto3 session   ---|---   [`agents.utils.parse_agent_response`](https://python.langchain.com/api_reference/aws/agents/langchain_aws.agents.utils.parse_agent_response.html#langchain_aws.agents.utils.parse_agent_response "langchain_aws.agents.utils.parse_agent_response")\(response\) | Parses the raw response from Bedrock Agent      ## [chains](https://python.langchain.com/api_reference/aws/chains.html#langchain-aws-chains)\#

**Functions**

[`chains.graph_qa.neptune_cypher.create_neptune_opencypher_qa_chain`](https://python.langchain.com/api_reference/aws/chains/langchain_aws.chains.graph_qa.neptune_cypher.create_neptune_opencypher_qa_chain.html#langchain_aws.chains.graph_qa.neptune_cypher.create_neptune_opencypher_qa_chain "langchain_aws.chains.graph_qa.neptune_cypher.create_neptune_opencypher_qa_chain")\(...\) | Chain for question-answering against a Neptune graph by generating openCypher statements.   ---|---   [`chains.graph_qa.neptune_cypher.extract_cypher`](https://python.langchain.com/api_reference/aws/chains/langchain_aws.chains.graph_qa.neptune_cypher.extract_cypher.html#langchain_aws.chains.graph_qa.neptune_cypher.extract_cypher "langchain_aws.chains.graph_qa.neptune_cypher.extract_cypher")\(text\) | Extract Cypher code from text using Regex.   [`chains.graph_qa.neptune_cypher.get_prompt`](https://python.langchain.com/api_reference/aws/chains/langchain_aws.chains.graph_qa.neptune_cypher.get_prompt.html#langchain_aws.chains.graph_qa.neptune_cypher.get_prompt "langchain_aws.chains.graph_qa.neptune_cypher.get_prompt")\(llm\) | Selects the final prompt   [`chains.graph_qa.neptune_cypher.trim_query`](https://python.langchain.com/api_reference/aws/chains/langchain_aws.chains.graph_qa.neptune_cypher.trim_query.html#langchain_aws.chains.graph_qa.neptune_cypher.trim_query "langchain_aws.chains.graph_qa.neptune_cypher.trim_query")\(query\) | Trim the query to only include Cypher keywords.   [`chains.graph_qa.neptune_cypher.use_simple_prompt`](https://python.langchain.com/api_reference/aws/chains/langchain_aws.chains.graph_qa.neptune_cypher.use_simple_prompt.html#langchain_aws.chains.graph_qa.neptune_cypher.use_simple_prompt "langchain_aws.chains.graph_qa.neptune_cypher.use_simple_prompt")\(llm\) | Decides whether to use the simple prompt   [`chains.graph_qa.neptune_sparql.create_neptune_sparql_qa_chain`](https://python.langchain.com/api_reference/aws/chains/langchain_aws.chains.graph_qa.neptune_sparql.create_neptune_sparql_qa_chain.html#langchain_aws.chains.graph_qa.neptune_sparql.create_neptune_sparql_qa_chain "langchain_aws.chains.graph_qa.neptune_sparql.create_neptune_sparql_qa_chain")\(...\) | Chain for question-answering against a Neptune graph by generating SPARQL statements.   [`chains.graph_qa.neptune_sparql.extract_sparql`](https://python.langchain.com/api_reference/aws/chains/langchain_aws.chains.graph_qa.neptune_sparql.extract_sparql.html#langchain_aws.chains.graph_qa.neptune_sparql.extract_sparql "langchain_aws.chains.graph_qa.neptune_sparql.extract_sparql")\(query\) | Extract SPARQL code from a text.   [`chains.graph_qa.neptune_sparql.get_prompt`](https://python.langchain.com/api_reference/aws/chains/langchain_aws.chains.graph_qa.neptune_sparql.get_prompt.html#langchain_aws.chains.graph_qa.neptune_sparql.get_prompt "langchain_aws.chains.graph_qa.neptune_sparql.get_prompt")\(...\) | Selects the final prompt.      ## [chat\_models](https://python.langchain.com/api_reference/aws/chat_models.html#langchain-aws-chat-models)\#

**Classes**

[`chat_models.bedrock.ChatBedrock`](https://python.langchain.com/api_reference/aws/chat_models/langchain_aws.chat_models.bedrock.ChatBedrock.html#langchain_aws.chat_models.bedrock.ChatBedrock "langchain_aws.chat_models.bedrock.ChatBedrock") | A chat model that uses the Bedrock API.   ---|---   [`chat_models.bedrock.ChatPromptAdapter`](https://python.langchain.com/api_reference/aws/chat_models/langchain_aws.chat_models.bedrock.ChatPromptAdapter.html#langchain_aws.chat_models.bedrock.ChatPromptAdapter "langchain_aws.chat_models.bedrock.ChatPromptAdapter")\(\) | Adapter class to prepare the inputs from Langchain to prompt format that Chat model expects.   [`chat_models.bedrock_converse.ChatBedrockConverse`](https://python.langchain.com/api_reference/aws/chat_models/langchain_aws.chat_models.bedrock_converse.ChatBedrockConverse.html#langchain_aws.chat_models.bedrock_converse.ChatBedrockConverse "langchain_aws.chat_models.bedrock_converse.ChatBedrockConverse") | Bedrock chat model integration built on the Bedrock converse API.   [`chat_models.sagemaker_endpoint.ChatLineIterator`](https://python.langchain.com/api_reference/aws/chat_models/langchain_aws.chat_models.sagemaker_endpoint.ChatLineIterator.html#langchain_aws.chat_models.sagemaker_endpoint.ChatLineIterator "langchain_aws.chat_models.sagemaker_endpoint.ChatLineIterator")\(stream\) | A helper class for parsing the byte stream input.   [`chat_models.sagemaker_endpoint.ChatModelContentHandler`](https://python.langchain.com/api_reference/aws/chat_models/langchain_aws.chat_models.sagemaker_endpoint.ChatModelContentHandler.html#langchain_aws.chat_models.sagemaker_endpoint.ChatModelContentHandler "langchain_aws.chat_models.sagemaker_endpoint.ChatModelContentHandler")\(\) | Content handler for ChatSagemakerEndpoint class.   [`chat_models.sagemaker_endpoint.ChatSagemakerEndpoint`](https://python.langchain.com/api_reference/aws/chat_models/langchain_aws.chat_models.sagemaker_endpoint.ChatSagemakerEndpoint.html#langchain_aws.chat_models.sagemaker_endpoint.ChatSagemakerEndpoint "langchain_aws.chat_models.sagemaker_endpoint.ChatSagemakerEndpoint") | A chat model that uses a HuggingFace TGI compatible SageMaker Endpoint.      **Functions**

[`chat_models.bedrock.convert_messages_to_prompt_anthropic`](https://python.langchain.com/api_reference/aws/chat_models/langchain_aws.chat_models.bedrock.convert_messages_to_prompt_anthropic.html#langchain_aws.chat_models.bedrock.convert_messages_to_prompt_anthropic "langchain_aws.chat_models.bedrock.convert_messages_to_prompt_anthropic")\(...\) | Format a list of messages into a full prompt for the Anthropic model   ---|---   [`chat_models.bedrock.convert_messages_to_prompt_deepseek`](https://python.langchain.com/api_reference/aws/chat_models/langchain_aws.chat_models.bedrock.convert_messages_to_prompt_deepseek.html#langchain_aws.chat_models.bedrock.convert_messages_to_prompt_deepseek "langchain_aws.chat_models.bedrock.convert_messages_to_prompt_deepseek")\(...\) | Convert a list of messages to a prompt for DeepSeek-R1.   [`chat_models.bedrock.convert_messages_to_prompt_llama`](https://python.langchain.com/api_reference/aws/chat_models/langchain_aws.chat_models.bedrock.convert_messages_to_prompt_llama.html#langchain_aws.chat_models.bedrock.convert_messages_to_prompt_llama "langchain_aws.chat_models.bedrock.convert_messages_to_prompt_llama")\(...\) | Convert a list of messages to a prompt for llama.   [`chat_models.bedrock.convert_messages_to_prompt_llama3`](https://python.langchain.com/api_reference/aws/chat_models/langchain_aws.chat_models.bedrock.convert_messages_to_prompt_llama3.html#langchain_aws.chat_models.bedrock.convert_messages_to_prompt_llama3 "langchain_aws.chat_models.bedrock.convert_messages_to_prompt_llama3")\(...\) | Convert a list of messages to a prompt for Llama 3.   [`chat_models.bedrock.convert_messages_to_prompt_llama4`](https://python.langchain.com/api_reference/aws/chat_models/langchain_aws.chat_models.bedrock.convert_messages_to_prompt_llama4.html#langchain_aws.chat_models.bedrock.convert_messages_to_prompt_llama4 "langchain_aws.chat_models.bedrock.convert_messages_to_prompt_llama4")\(...\) | Convert a list of messages to a prompt for Llama 4.   [`chat_models.bedrock.convert_messages_to_prompt_mistral`](https://python.langchain.com/api_reference/aws/chat_models/langchain_aws.chat_models.bedrock.convert_messages_to_prompt_mistral.html#langchain_aws.chat_models.bedrock.convert_messages_to_prompt_mistral "langchain_aws.chat_models.bedrock.convert_messages_to_prompt_mistral")\(...\) | Convert a list of messages to a prompt for mistral.   [`chat_models.bedrock.convert_messages_to_prompt_writer`](https://python.langchain.com/api_reference/aws/chat_models/langchain_aws.chat_models.bedrock.convert_messages_to_prompt_writer.html#langchain_aws.chat_models.bedrock.convert_messages_to_prompt_writer "langchain_aws.chat_models.bedrock.convert_messages_to_prompt_writer")\(...\) | Convert a list of messages to a prompt for Writer.      ## [document\_compressors](https://python.langchain.com/api_reference/aws/document_compressors.html#langchain-aws-document-compressors)\#

**Classes**

[`document_compressors.rerank.BedrockRerank`](https://python.langchain.com/api_reference/aws/document_compressors/langchain_aws.document_compressors.rerank.BedrockRerank.html#langchain_aws.document_compressors.rerank.BedrockRerank "langchain_aws.document_compressors.rerank.BedrockRerank") | Document compressor that uses AWS Bedrock Rerank API.   ---|---      ## [embeddings](https://python.langchain.com/api_reference/aws/embeddings.html#langchain-aws-embeddings)\#

**Classes**

[`embeddings.bedrock.BedrockEmbeddings`](https://python.langchain.com/api_reference/aws/embeddings/langchain_aws.embeddings.bedrock.BedrockEmbeddings.html#langchain_aws.embeddings.bedrock.BedrockEmbeddings "langchain_aws.embeddings.bedrock.BedrockEmbeddings") | Bedrock embedding models.   ---|---      ## [function\_calling](https://python.langchain.com/api_reference/aws/function_calling.html#langchain-aws-function-calling)\#

**Classes**

[`function_calling.AnthropicTool`](https://python.langchain.com/api_reference/aws/function_calling/langchain_aws.function_calling.AnthropicTool.html#langchain_aws.function_calling.AnthropicTool "langchain_aws.function_calling.AnthropicTool") |    ---|---   [`function_calling.FunctionDescription`](https://python.langchain.com/api_reference/aws/function_calling/langchain_aws.function_calling.FunctionDescription.html#langchain_aws.function_calling.FunctionDescription "langchain_aws.function_calling.FunctionDescription") | Representation of a callable function to send to an LLM.   [`function_calling.ToolDescription`](https://python.langchain.com/api_reference/aws/function_calling/langchain_aws.function_calling.ToolDescription.html#langchain_aws.function_calling.ToolDescription "langchain_aws.function_calling.ToolDescription") | Representation of a callable function to the OpenAI API.   [`function_calling.ToolsOutputParser`](https://python.langchain.com/api_reference/aws/function_calling/langchain_aws.function_calling.ToolsOutputParser.html#langchain_aws.function_calling.ToolsOutputParser "langchain_aws.function_calling.ToolsOutputParser") |       **Functions**

[`function_calling.convert_to_anthropic_tool`](https://python.langchain.com/api_reference/aws/function_calling/langchain_aws.function_calling.convert_to_anthropic_tool.html#langchain_aws.function_calling.convert_to_anthropic_tool "langchain_aws.function_calling.convert_to_anthropic_tool")\(tool\) |    ---|---   [`function_calling.get_system_message`](https://python.langchain.com/api_reference/aws/function_calling/langchain_aws.function_calling.get_system_message.html#langchain_aws.function_calling.get_system_message "langchain_aws.function_calling.get_system_message")\(tools\) |       ## [graphs](https://python.langchain.com/api_reference/aws/graphs.html#langchain-aws-graphs)\#

**Classes**

[`graphs.neptune_graph.BaseNeptuneGraph`](https://python.langchain.com/api_reference/aws/graphs/langchain_aws.graphs.neptune_graph.BaseNeptuneGraph.html#langchain_aws.graphs.neptune_graph.BaseNeptuneGraph "langchain_aws.graphs.neptune_graph.BaseNeptuneGraph")\(\) |    ---|---   [`graphs.neptune_graph.NeptuneAnalyticsGraph`](https://python.langchain.com/api_reference/aws/graphs/langchain_aws.graphs.neptune_graph.NeptuneAnalyticsGraph.html#langchain_aws.graphs.neptune_graph.NeptuneAnalyticsGraph "langchain_aws.graphs.neptune_graph.NeptuneAnalyticsGraph")\(...\) | Neptune Analytics wrapper for graph operations.   [`graphs.neptune_graph.NeptuneGraph`](https://python.langchain.com/api_reference/aws/graphs/langchain_aws.graphs.neptune_graph.NeptuneGraph.html#langchain_aws.graphs.neptune_graph.NeptuneGraph "langchain_aws.graphs.neptune_graph.NeptuneGraph")\(host\[, ...\]\) | Neptune wrapper for graph operations.   [`graphs.neptune_graph.NeptuneQueryException`](https://python.langchain.com/api_reference/aws/graphs/langchain_aws.graphs.neptune_graph.NeptuneQueryException.html#langchain_aws.graphs.neptune_graph.NeptuneQueryException "langchain_aws.graphs.neptune_graph.NeptuneQueryException")\(...\) | Exception for the Neptune queries.   [`graphs.neptune_rdf_graph.NeptuneRdfGraph`](https://python.langchain.com/api_reference/aws/graphs/langchain_aws.graphs.neptune_rdf_graph.NeptuneRdfGraph.html#langchain_aws.graphs.neptune_rdf_graph.NeptuneRdfGraph "langchain_aws.graphs.neptune_rdf_graph.NeptuneRdfGraph")\(host\) | Neptune wrapper for RDF graph operations.      ## [llms](https://python.langchain.com/api_reference/aws/llms.html#langchain-aws-llms)\#

**Classes**

[`llms.bedrock.AnthropicTool`](https://python.langchain.com/api_reference/aws/llms/langchain_aws.llms.bedrock.AnthropicTool.html#langchain_aws.llms.bedrock.AnthropicTool "langchain_aws.llms.bedrock.AnthropicTool") |    ---|---   [`llms.bedrock.BedrockBase`](https://python.langchain.com/api_reference/aws/llms/langchain_aws.llms.bedrock.BedrockBase.html#langchain_aws.llms.bedrock.BedrockBase "langchain_aws.llms.bedrock.BedrockBase") | Base class for Bedrock models.   [`llms.bedrock.BedrockLLM`](https://python.langchain.com/api_reference/aws/llms/langchain_aws.llms.bedrock.BedrockLLM.html#langchain_aws.llms.bedrock.BedrockLLM "langchain_aws.llms.bedrock.BedrockLLM") | Bedrock models.   [`llms.bedrock.LLMInputOutputAdapter`](https://python.langchain.com/api_reference/aws/llms/langchain_aws.llms.bedrock.LLMInputOutputAdapter.html#langchain_aws.llms.bedrock.LLMInputOutputAdapter "langchain_aws.llms.bedrock.LLMInputOutputAdapter")\(\) | Adapter class to prepare the inputs from Langchain to a format that LLM model expects.   [`llms.sagemaker_endpoint.LLMContentHandler`](https://python.langchain.com/api_reference/aws/llms/langchain_aws.llms.sagemaker_endpoint.LLMContentHandler.html#langchain_aws.llms.sagemaker_endpoint.LLMContentHandler "langchain_aws.llms.sagemaker_endpoint.LLMContentHandler")\(\) | Content handler for LLM class.   [`llms.sagemaker_endpoint.LineIterator`](https://python.langchain.com/api_reference/aws/llms/langchain_aws.llms.sagemaker_endpoint.LineIterator.html#langchain_aws.llms.sagemaker_endpoint.LineIterator "langchain_aws.llms.sagemaker_endpoint.LineIterator")\(stream\) | A helper class for parsing the byte stream input.   [`llms.sagemaker_endpoint.SagemakerEndpoint`](https://python.langchain.com/api_reference/aws/llms/langchain_aws.llms.sagemaker_endpoint.SagemakerEndpoint.html#langchain_aws.llms.sagemaker_endpoint.SagemakerEndpoint "langchain_aws.llms.sagemaker_endpoint.SagemakerEndpoint") | Sagemaker Inference Endpoint models.      **Functions**

[`llms.bedrock.extract_tool_calls`](https://python.langchain.com/api_reference/aws/llms/langchain_aws.llms.bedrock.extract_tool_calls.html#langchain_aws.llms.bedrock.extract_tool_calls "langchain_aws.llms.bedrock.extract_tool_calls")\(content\) |    ---|---   [`llms.sagemaker_endpoint.enforce_stop_tokens`](https://python.langchain.com/api_reference/aws/llms/langchain_aws.llms.sagemaker_endpoint.enforce_stop_tokens.html#langchain_aws.llms.sagemaker_endpoint.enforce_stop_tokens "langchain_aws.llms.sagemaker_endpoint.enforce_stop_tokens")\(...\) | Cut off the text as soon as any stop words occur.      ## [retrievers](https://python.langchain.com/api_reference/aws/retrievers.html#langchain-aws-retrievers)\#

**Classes**

[`retrievers.bedrock.AmazonKnowledgeBasesRetriever`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.bedrock.AmazonKnowledgeBasesRetriever.html#langchain_aws.retrievers.bedrock.AmazonKnowledgeBasesRetriever "langchain_aws.retrievers.bedrock.AmazonKnowledgeBasesRetriever") | Amazon Bedrock Knowledge Bases retrieval.   ---|---   [`retrievers.bedrock.RetrievalConfig`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.bedrock.RetrievalConfig.html#langchain_aws.retrievers.bedrock.RetrievalConfig "langchain_aws.retrievers.bedrock.RetrievalConfig") | Configuration for retrieval.   [`retrievers.bedrock.SearchFilter`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.bedrock.SearchFilter.html#langchain_aws.retrievers.bedrock.SearchFilter "langchain_aws.retrievers.bedrock.SearchFilter") | Filter configuration for retrieval.   [`retrievers.bedrock.VectorSearchConfig`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.bedrock.VectorSearchConfig.html#langchain_aws.retrievers.bedrock.VectorSearchConfig "langchain_aws.retrievers.bedrock.VectorSearchConfig") | Configuration for vector search.   [`retrievers.kendra.AdditionalResultAttribute`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.AdditionalResultAttribute.html#langchain_aws.retrievers.kendra.AdditionalResultAttribute "langchain_aws.retrievers.kendra.AdditionalResultAttribute") | Additional result attribute.   [`retrievers.kendra.AdditionalResultAttributeValue`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.AdditionalResultAttributeValue.html#langchain_aws.retrievers.kendra.AdditionalResultAttributeValue "langchain_aws.retrievers.kendra.AdditionalResultAttributeValue") | Value of an additional result attribute.   [`retrievers.kendra.AmazonKendraRetriever`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.AmazonKendraRetriever.html#langchain_aws.retrievers.kendra.AmazonKendraRetriever "langchain_aws.retrievers.kendra.AmazonKendraRetriever") | Amazon Kendra Index retriever.   [`retrievers.kendra.DocumentAttribute`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.DocumentAttribute.html#langchain_aws.retrievers.kendra.DocumentAttribute "langchain_aws.retrievers.kendra.DocumentAttribute") | Document attribute.   [`retrievers.kendra.DocumentAttributeValue`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.DocumentAttributeValue.html#langchain_aws.retrievers.kendra.DocumentAttributeValue "langchain_aws.retrievers.kendra.DocumentAttributeValue") | Value of a document attribute.   [`retrievers.kendra.Highlight`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.Highlight.html#langchain_aws.retrievers.kendra.Highlight "langchain_aws.retrievers.kendra.Highlight") | Information that highlights the keywords in the excerpt.   [`retrievers.kendra.QueryResult`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.QueryResult.html#langchain_aws.retrievers.kendra.QueryResult "langchain_aws.retrievers.kendra.QueryResult") | Amazon Kendra Query API search result.   [`retrievers.kendra.QueryResultItem`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.QueryResultItem.html#langchain_aws.retrievers.kendra.QueryResultItem "langchain_aws.retrievers.kendra.QueryResultItem") | Query API result item.   [`retrievers.kendra.ResultItem`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.ResultItem.html#langchain_aws.retrievers.kendra.ResultItem "langchain_aws.retrievers.kendra.ResultItem") | Base class of a result item.   [`retrievers.kendra.RetrieveResult`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.RetrieveResult.html#langchain_aws.retrievers.kendra.RetrieveResult "langchain_aws.retrievers.kendra.RetrieveResult") | Amazon Kendra Retrieve API search result.   [`retrievers.kendra.RetrieveResultItem`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.RetrieveResultItem.html#langchain_aws.retrievers.kendra.RetrieveResultItem "langchain_aws.retrievers.kendra.RetrieveResultItem") | Retrieve API result item.   [`retrievers.kendra.TextWithHighLights`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.TextWithHighLights.html#langchain_aws.retrievers.kendra.TextWithHighLights "langchain_aws.retrievers.kendra.TextWithHighLights") | Text with highlights.      **Functions**

[`retrievers.kendra.clean_excerpt`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.clean_excerpt.html#langchain_aws.retrievers.kendra.clean_excerpt "langchain_aws.retrievers.kendra.clean_excerpt")\(excerpt\) | Clean an excerpt from Kendra.   ---|---   [`retrievers.kendra.combined_text`](https://python.langchain.com/api_reference/aws/retrievers/langchain_aws.retrievers.kendra.combined_text.html#langchain_aws.retrievers.kendra.combined_text "langchain_aws.retrievers.kendra.combined_text")\(item\) | Combine a ResultItem title and excerpt into a single string.      ## [runnables](https://python.langchain.com/api_reference/aws/runnables.html#langchain-aws-runnables)\#

**Classes**

[`runnables.q_business.AmazonQ`](https://python.langchain.com/api_reference/aws/runnables/langchain_aws.runnables.q_business.AmazonQ.html#langchain_aws.runnables.q_business.AmazonQ "langchain_aws.runnables.q_business.AmazonQ")\(\[region\_name, ...\]\) |    ---|---      ## [utilities](https://python.langchain.com/api_reference/aws/utilities.html#langchain-aws-utilities)\#

**Classes**

[`utilities.redis.TokenEscaper`](https://python.langchain.com/api_reference/aws/utilities/langchain_aws.utilities.redis.TokenEscaper.html#langchain_aws.utilities.redis.TokenEscaper "langchain_aws.utilities.redis.TokenEscaper")\(\[escape\_chars\_re\]\) | Escape punctuation within an input string.   ---|---   [`utilities.utils.DistanceStrategy`](https://python.langchain.com/api_reference/aws/utilities/langchain_aws.utilities.utils.DistanceStrategy.html#langchain_aws.utilities.utils.DistanceStrategy "langchain_aws.utilities.utils.DistanceStrategy")\(value\) | Enumerator of the Distance strategies for calculating distances between vectors.      **Functions**

[`utilities.math.cosine_similarity`](https://python.langchain.com/api_reference/aws/utilities/langchain_aws.utilities.math.cosine_similarity.html#langchain_aws.utilities.math.cosine_similarity "langchain_aws.utilities.math.cosine_similarity")\(X, Y\) | Row-wise cosine similarity between two equal-width matrices.   ---|---   [`utilities.math.cosine_similarity_top_k`](https://python.langchain.com/api_reference/aws/utilities/langchain_aws.utilities.math.cosine_similarity_top_k.html#langchain_aws.utilities.math.cosine_similarity_top_k "langchain_aws.utilities.math.cosine_similarity_top_k")\(X, Y\) | Row-wise cosine similarity with optional top-k and score threshold filtering.   [`utilities.redis.get_client`](https://python.langchain.com/api_reference/aws/utilities/langchain_aws.utilities.redis.get_client.html#langchain_aws.utilities.redis.get_client "langchain_aws.utilities.redis.get_client")\(redis\_url, \*\*kwargs\) | Get a redis client from the connection url given.   [`utilities.utils.filter_complex_metadata`](https://python.langchain.com/api_reference/aws/utilities/langchain_aws.utilities.utils.filter_complex_metadata.html#langchain_aws.utilities.utils.filter_complex_metadata "langchain_aws.utilities.utils.filter_complex_metadata")\(...\) | Filter out metadata types that are not supported for a vector store.   [`utilities.utils.maximal_marginal_relevance`](https://python.langchain.com/api_reference/aws/utilities/langchain_aws.utilities.utils.maximal_marginal_relevance.html#langchain_aws.utilities.utils.maximal_marginal_relevance "langchain_aws.utilities.utils.maximal_marginal_relevance")\(...\) | Calculate maximal marginal relevance.      ## [utils](https://python.langchain.com/api_reference/aws/utils.html#langchain-aws-utils)\#

**Classes**

[`utils.ContentHandlerBase`](https://python.langchain.com/api_reference/aws/utils/langchain_aws.utils.ContentHandlerBase.html#langchain_aws.utils.ContentHandlerBase "langchain_aws.utils.ContentHandlerBase")\(\) | A handler class to transform input from LLM and BaseChatModel to a   ---|---      **Functions**

[`utils.anthropic_tokens_supported`](https://python.langchain.com/api_reference/aws/utils/langchain_aws.utils.anthropic_tokens_supported.html#langchain_aws.utils.anthropic_tokens_supported "langchain_aws.utils.anthropic_tokens_supported")\(\) | Check if all requirements for Anthropic count\_tokens\(\) are met.   ---|---   [`utils.create_aws_client`](https://python.langchain.com/api_reference/aws/utils/langchain_aws.utils.create_aws_client.html#langchain_aws.utils.create_aws_client "langchain_aws.utils.create_aws_client")\(service\_name\[, ...\]\) | Helper function to validate AWS credentials and create an AWS client.   [`utils.enforce_stop_tokens`](https://python.langchain.com/api_reference/aws/utils/langchain_aws.utils.enforce_stop_tokens.html#langchain_aws.utils.enforce_stop_tokens "langchain_aws.utils.enforce_stop_tokens")\(text, stop\) | Cut off the text as soon as any stop words occur.   [`utils.get_num_tokens_anthropic`](https://python.langchain.com/api_reference/aws/utils/langchain_aws.utils.get_num_tokens_anthropic.html#langchain_aws.utils.get_num_tokens_anthropic "langchain_aws.utils.get_num_tokens_anthropic")\(text\) | Get the number of tokens in a string of text.   [`utils.get_token_ids_anthropic`](https://python.langchain.com/api_reference/aws/utils/langchain_aws.utils.get_token_ids_anthropic.html#langchain_aws.utils.get_token_ids_anthropic "langchain_aws.utils.get_token_ids_anthropic")\(text\) | Get the token ids for a string of text.   [`utils.thinking_in_params`](https://python.langchain.com/api_reference/aws/utils/langchain_aws.utils.thinking_in_params.html#langchain_aws.utils.thinking_in_params "langchain_aws.utils.thinking_in_params")\(params\) | Check if the thinking parameter is enabled in the request.      ## [vectorstores](https://python.langchain.com/api_reference/aws/vectorstores.html#langchain-aws-vectorstores)\#

**Classes**

[`vectorstores.inmemorydb.base.InMemoryVectorStore`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.base.InMemoryVectorStore.html#langchain_aws.vectorstores.inmemorydb.base.InMemoryVectorStore "langchain_aws.vectorstores.inmemorydb.base.InMemoryVectorStore")\(...\) | InMemoryVectorStore vector database.   ---|---   [`vectorstores.inmemorydb.base.InMemoryVectorStoreRetriever`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.base.InMemoryVectorStoreRetriever.html#langchain_aws.vectorstores.inmemorydb.base.InMemoryVectorStoreRetriever "langchain_aws.vectorstores.inmemorydb.base.InMemoryVectorStoreRetriever") | Retriever for InMemoryVectorStore.   [`vectorstores.inmemorydb.cache.InMemorySemanticCache`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.cache.InMemorySemanticCache.html#langchain_aws.vectorstores.inmemorydb.cache.InMemorySemanticCache "langchain_aws.vectorstores.inmemorydb.cache.InMemorySemanticCache")\(...\) | Cache that uses MemoryDB as a vector-store backend.   [`vectorstores.inmemorydb.filters.InMemoryDBFilter`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBFilter.html#langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBFilter "langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBFilter")\(\) | Collection of InMemoryDBFilterFields.   [`vectorstores.inmemorydb.filters.InMemoryDBFilterExpression`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBFilterExpression.html#langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBFilterExpression "langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBFilterExpression")\(\[...\]\) | Logical expression of InMemoryDBFilterFields.   [`vectorstores.inmemorydb.filters.InMemoryDBFilterField`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBFilterField.html#langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBFilterField "langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBFilterField")\(field\) | Base class for InMemoryDBFilterFields.   [`vectorstores.inmemorydb.filters.InMemoryDBFilterOperator`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBFilterOperator.html#langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBFilterOperator "langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBFilterOperator")\(value\) | InMemoryDBFilterOperator enumerator is used to create InMemoryDBFilterExpressions   [`vectorstores.inmemorydb.filters.InMemoryDBNum`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBNum.html#langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBNum "langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBNum")\(field\) | InMemoryDBFilterField representing a numeric field in a InMemoryDB index.   [`vectorstores.inmemorydb.filters.InMemoryDBTag`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBTag.html#langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBTag "langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBTag")\(field\) | InMemoryDBFilterField representing a tag in a InMemoryDB index.   [`vectorstores.inmemorydb.filters.InMemoryDBText`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBText.html#langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBText "langchain_aws.vectorstores.inmemorydb.filters.InMemoryDBText")\(field\) | InMemoryDBFilterField representing a text field in a InMemoryDB index.   [`vectorstores.inmemorydb.schema.FlatVectorField`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.schema.FlatVectorField.html#langchain_aws.vectorstores.inmemorydb.schema.FlatVectorField "langchain_aws.vectorstores.inmemorydb.schema.FlatVectorField") | Schema for flat vector fields in Redis.   [`vectorstores.inmemorydb.schema.HNSWVectorField`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.schema.HNSWVectorField.html#langchain_aws.vectorstores.inmemorydb.schema.HNSWVectorField "langchain_aws.vectorstores.inmemorydb.schema.HNSWVectorField") | Schema for HNSW vector fields in Redis.   [`vectorstores.inmemorydb.schema.InMemoryDBDistanceMetric`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.schema.InMemoryDBDistanceMetric.html#langchain_aws.vectorstores.inmemorydb.schema.InMemoryDBDistanceMetric "langchain_aws.vectorstores.inmemorydb.schema.InMemoryDBDistanceMetric")\(value\) | Distance metrics for Redis vector fields.   [`vectorstores.inmemorydb.schema.InMemoryDBField`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.schema.InMemoryDBField.html#langchain_aws.vectorstores.inmemorydb.schema.InMemoryDBField "langchain_aws.vectorstores.inmemorydb.schema.InMemoryDBField") | Base class for Redis fields.   [`vectorstores.inmemorydb.schema.InMemoryDBModel`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.schema.InMemoryDBModel.html#langchain_aws.vectorstores.inmemorydb.schema.InMemoryDBModel "langchain_aws.vectorstores.inmemorydb.schema.InMemoryDBModel") | Schema for MemoryDB index.   [`vectorstores.inmemorydb.schema.InMemoryDBVectorField`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.schema.InMemoryDBVectorField.html#langchain_aws.vectorstores.inmemorydb.schema.InMemoryDBVectorField "langchain_aws.vectorstores.inmemorydb.schema.InMemoryDBVectorField") | Base class for Redis vector fields.   [`vectorstores.inmemorydb.schema.NumericFieldSchema`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.schema.NumericFieldSchema.html#langchain_aws.vectorstores.inmemorydb.schema.NumericFieldSchema "langchain_aws.vectorstores.inmemorydb.schema.NumericFieldSchema") | Schema for numeric fields in Redis.   [`vectorstores.inmemorydb.schema.TagFieldSchema`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.schema.TagFieldSchema.html#langchain_aws.vectorstores.inmemorydb.schema.TagFieldSchema "langchain_aws.vectorstores.inmemorydb.schema.TagFieldSchema") | Schema for tag fields in Redis.   [`vectorstores.inmemorydb.schema.TextFieldSchema`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.schema.TextFieldSchema.html#langchain_aws.vectorstores.inmemorydb.schema.TextFieldSchema "langchain_aws.vectorstores.inmemorydb.schema.TextFieldSchema") | Schema for text fields in Redis.      **Functions**

[`vectorstores.inmemorydb.base.check_index_exists`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.base.check_index_exists.html#langchain_aws.vectorstores.inmemorydb.base.check_index_exists "langchain_aws.vectorstores.inmemorydb.base.check_index_exists")\(...\) | Check if MemoryDB index exists.   ---|---   [`vectorstores.inmemorydb.filters.check_operator_misuse`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.filters.check_operator_misuse.html#langchain_aws.vectorstores.inmemorydb.filters.check_operator_misuse "langchain_aws.vectorstores.inmemorydb.filters.check_operator_misuse")\(func\) | Decorator to check for misuse of equality operators.   [`vectorstores.inmemorydb.schema.read_schema`](https://python.langchain.com/api_reference/aws/vectorstores/langchain_aws.vectorstores.inmemorydb.schema.read_schema.html#langchain_aws.vectorstores.inmemorydb.schema.read_schema "langchain_aws.vectorstores.inmemorydb.schema.read_schema")\(...\) | Read in the index schema from a dict or yaml file.