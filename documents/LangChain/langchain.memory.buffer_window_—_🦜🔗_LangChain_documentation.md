# langchain.memory.buffer_window â€” ðŸ¦œðŸ”— LangChain  documentation

**URL:** https://python.langchain.com/api_reference/_modules/langchain/memory/buffer_window.html
**Word Count:** 85
**Links Count:** 14
**Scraped:** 2025-07-21 08:27:44
**Status:** completed

---

# Source code for langchain.memory.buffer\_window               from typing import Any, Union          from langchain_core._api import deprecated     from langchain_core.messages import BaseMessage, get_buffer_string          from langchain.memory.chat_memory import BaseChatMemory                              [[docs]](https://python.langchain.com/api_reference/langchain/memory/langchain.memory.buffer_window.ConversationBufferWindowMemory.html#langchain.memory.buffer_window.ConversationBufferWindowMemory)     @deprecated(         since="0.3.1",         removal="1.0.0",         message=(             "Please see the migration guide at: "             "https://python.langchain.com/docs/versions/migrating_memory/"         ),     )     class ConversationBufferWindowMemory(BaseChatMemory):         """Use to keep track of the last k turns of a conversation.              If the number of messages in the conversation is more than the maximum number         of messages to keep, the oldest messages are dropped.         """              human_prefix: str = "Human"         ai_prefix: str = "AI"         memory_key: str = "history"  #: :meta private:         k: int = 5         """Number of messages to store in buffer."""              @property         def buffer(self) -> Union[str, list[BaseMessage]]:             """String buffer of memory."""             return self.buffer_as_messages if self.return_messages else self.buffer_as_str              @property         def buffer_as_str(self) -> str:             """Exposes the buffer as a string in case return_messages is False."""             messages = self.chat_memory.messages[-self.k * 2 :] if self.k > 0 else []             return get_buffer_string(                 messages,                 human_prefix=self.human_prefix,                 ai_prefix=self.ai_prefix,             )              @property         def buffer_as_messages(self) -> list[BaseMessage]:             """Exposes the buffer as a list of messages in case return_messages is True."""             return self.chat_memory.messages[-self.k * 2 :] if self.k > 0 else []              @property         def memory_variables(self) -> list[str]:             """Will always return list of memory variables.                  :meta private:             """             return [self.memory_key]                         [[docs]](https://python.langchain.com/api_reference/langchain/memory/langchain.memory.buffer_window.ConversationBufferWindowMemory.html#langchain.memory.buffer_window.ConversationBufferWindowMemory.load_memory_variables)         def load_memory_variables(self, inputs: dict[str, Any]) -> dict[str, Any]:             """Return history buffer."""             return {self.memory_key: self.buffer}